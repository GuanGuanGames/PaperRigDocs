# 🛠️ 编辑器面板使用教程

---

## 1. 总览

PaperRig 提供了一套专为 2D 骨骼动画设计的编辑器面板，涵盖图层绑定、顶点编辑、图层组控制器等核心功能。  
通过这些工具，你可以高效构建角色的图层控制系统，并在编辑器中实时预览动画效果，提升制作流程的可视化与交互性。

---

## 2. 打开方式

打开编辑器面板的步骤：

1. 双击任意已生成的 **PaperRig Skeletal Mesh** 资源；  
2. 在顶部工具栏点击 `Editing Tools` 按钮，进入骨骼模型编辑器界面；  
3. 在工具集列表中选择 **PaperRig**，启用相关编辑功能。

---

## 3. 顶点编辑（Edit Vertex）

顶点编辑是构建角色图层形状与骨骼绑定关系的关键步骤。通过该功能，用户可以手动调整图层的几何形状。

### 3.1 选择图层

- 点击左侧图层列表，选中需要编辑的图层；  
- 选中后，图层轮廓将在视图中高亮显示；  
- 未选中图层时，无法进行顶点操作。

### 3.2 编辑顶点形状

- **移动顶点**：点击并拖动顶点以调整位置；  
- **添加顶点**：在边缘线上双击插入新顶点；  
- **删除顶点**：选中顶点后按 `Delete` 键移除。

编辑完成后，图层形状实时更新，影响绑定与动画表现。

### 💡 提示

- 使用 `Ctrl + Z` 撤销操作；  
- 鼠标滚轮缩放视图以便精细调整；  
- 无法编辑图层边界的四个顶点，只能在其范围内增删顶点。

---

## 4. 图层控制器（Edit Layer Control）

图层控制器用于管理图层的显示状态与动画关键帧，是连接动画系统与蓝图逻辑的核心工具。通过控制器，可实现图层动态切换与骨骼驱动，增强角色表现力。

### 4.1 面板概览

- **Controller Name**：控制器名称；  
- **Operation**：编辑模式（新增或编辑）；  
- **Add Key / Remove Key**：添加或删除关键帧；  
- **Slider & Range**：控制器数值范围及实时调节；  
- **图层列表**：显示所有可控图层，点击👁️图标切换可见性。

### 4.2 新增控制器

1. 选择 `Operation` 为 New；  
2. 在 `Controller Name` 输入框中填写名称。

### 4.3 添加与编辑关键帧

- 移动时间轴到目标帧；  
- 点击 `Add Key` 添加关键帧；  
- 调节滑块或数值输入控制器值；  
- 设置图层可见性（点击👁️切换）；  
- 删除关键帧点击 `Remove Key`；  
- 右键图层添加或移除关键帧。

### 4.4 参数设置

- **Range**：控制器数值范围（如 0~1）；  
- **Operation**：决定当前编辑模式（新增或修改）。

### 4.5 用途说明

- **动画驱动**：动画序列中通过曲线控制图层状态，实现动态表现；  
- **蓝图集成**：运行时通过蓝图修改控制器，支持交互逻辑（换装、表情等）；  
- **调试预览**：编辑器内实时预览控制器效果，便于调试。

### 💡 建议

- 控制器命名唯一，方便蓝图调用；  
- 多控制器组合实现复杂动画。

---

## 5. 常见问题

### • 添加图层未生效

尝试重新导入 PSD 文件并重建骨骼模型：  

1. 右键 PSD 文件 → 选择“重新导入”；  
2. 处理完成后重新创建骨骼模型。

系统会同步新增、删除图层，未改动的图层保留。  

**注意**：像素变更需重建顶点，删除图层会从模型移除。

### • 顶点无法编辑

请确认已选中图层，且处于 `Edit Vertex` 模式。

### • 控制器不响应动画曲线

确认控制器名称与动画曲线名称完全匹配，且控制器已设置关键帧。
